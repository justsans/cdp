<%- model_class = Feedback -%>

<div class="container" ng-app="cdpApp">
  <div class="row pull-right" ng-controller="ModalDemoCtrl">
    <div class="col-md-12 pull-right">

      <div class="icon-div">
        <div> <%= link_to '<i class="fa fa-arrow-circle-left"></i>'.html_safe,
                          annual_summary_reports_path, :class => 'font-awesome-icon' %></div>
        <div class="icon-bottom">Back</div>
      </div>
      <div class="icon-div">
        <div> <%= link_to '<i class="fa fa-plus-square"></i>'.html_safe,
                          new_feedback_path, :class => 'font-awesome-icon' %></div>
        <div class="icon-bottom">Enter Feedback</div>
      </div>
      <div class="icon-div">
        <div> <%= link_to '<i class="fa fa-share-square"></i>'.html_safe,
                          '', :class => 'font-awesome-icon', :'ng-click' => "open('lg')" %></div>
        <div class="icon-bottom">Send Request</div>
      </div>

    </div>

  </div>



  <div class="row">
    <div class="col-md-12">

      <div ng-controller='FeedbackTabCtrl' class="tabbable tabs-left">

        <ul class="nav nav-tabs" style="margin-top: 0px;">
          <li ng-class="getTabClass(1)" ng-click="setActiveTab(1)"><a href="#deal" data-toggle="tab">My Feedbacks</a></li>
          <li ng-class="getTabClass(2)" ng-click="setActiveTab(2)"><a href="#bond" data-toggle="tab">Feedback Requests</a>
          </li>
        </ul>

        <div class="tab-content" style="float:left;width:82%">
          <div ng-class="getTabPaneClass(1)" id="deal">

            <table class="table table-striped">
              <thead>
              <tr>

                <th>Name</th>
                <th>Role</th>
                <th>Project</th>
                <th>Received</th>
                <th></th>
              </tr>
              </thead>
              <tbody>
              <% @feedbacks.each do |feedback| %>
                  <tr>

                    <td><%= feedback.from_user_name %>  (<%= feedback.from_user_email %>)</td>
                    <td><%= feedback.from_user_role %></td>
                    <td><%= feedback.project %></td>
                    <td><%= feedback.date %></td>
                    <td>
                      <%= link_to feedback_path(feedback), :class => 'btn btn-xs', :title => "#{ t('.show', :default => t('helpers.links.show')) }" do %>
                          <%= glyph 'info-sign' %>
                      <%- end -%>
                      <%= link_to edit_feedback_path(feedback), :class => 'btn btn-xs', :title => "#{ t('.edit', :default => t('helpers.links.edit')) }" do %>
                          <%= glyph 'pencil' %>
                      <%- end -%>
                      <%= link_to feedback_path(feedback), :method => :delete, :data => {:confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?'))}, :class => 'btn btn-xs', :title => "#{ t('.destroy', :default => t('helpers.links.destroy')) }" do %>
                          <%= glyph 'remove' %>
                      <%- end -%>
                    </td>
                  </tr>
              <% end %>
              </tbody>
            </table>

          </div>

          <div ng-class="getTabPaneClass(2)" id="bond">
            <table class="table table-striped">
              <thead>
              <tr>

                <th>Name</th>
                <th>Role</th>
                <th>Project</th>
                <th>Received</th>
                <th></th>
              </tr>
              </thead>
              <tbody>
              <% @feedback_requests.each do |feedback| %>
                  <tr>

                    <td><%= feedback.from_user_name %>  (<%= feedback.from_user_email %>)</td>
                    <td><%= feedback.from_user_role %></td>
                    <td><%= feedback.project %></td>
                    <td><%= feedback.date %></td>
                    <td>
                      <%= link_to feedback_path(feedback), :class => 'btn btn-xs', :title => "#{ t('.show', :default => t('helpers.links.show')) }" do %>
                          <%= glyph 'info-sign' %>
                      <%- end -%>
                      <%= link_to edit_feedback_path(feedback), :class => 'btn btn-xs', :title => "#{ t('.edit', :default => t('helpers.links.edit')) }" do %>
                          <%= glyph 'pencil' %>
                      <%- end -%>
                      <%= link_to feedback_path(feedback), :method => :delete, :data => {:confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?'))}, :class => 'btn btn-xs', :title => "#{ t('.destroy', :default => t('helpers.links.destroy')) }" do %>
                          <%= glyph 'remove' %>
                      <%- end -%>
                    </td>
                  </tr>
              <% end %>
              </tbody>
            </table>

          </div>

        </div>


      </div>
    </div>

  </div>

  <%= render :partial => 'feedback_request' %>

   <!--<div ng-controller="FeedbackTabCtrl" ng-init="loadFeedbacks()">-->

     <!--<button ng-click="tableParams.sorting({})" class="btn btn-default pull-right">Clear sorting</button>-->
     <!--<p><strong>Sorting:</strong> {{tableParams.sorting()|json}}-->

     <!--<table ng-table="tableParams" class="table">-->
       <!--<tr ng-repeat="feedback in feedbacks">-->
         <!--<td data-title="'Name'" sortable="'name'">-->
           <!--{{feedback.name}}-->
         <!--</td>-->
         <!--<td data-title="'Role'" sortable="'role'">-->
           <!--{{feedback.role}}-->
         <!--</td>-->
         <!--<td data-title="'Project'" sortable="'project'">-->
           <!--{{feedback.role}}-->
         <!--</td>-->
         <!--<td data-title="'Role'" sortable="'role'">-->
           <!--{{feedback.role}}-->
         <!--</td>-->
       <!--</tr>-->
     <!--</table>-->
   <!--</div>-->

<!--</div>-->






